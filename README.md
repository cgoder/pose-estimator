# ğŸƒâ€â™‚ï¸ å¥èº«å§¿æ€åˆ†æç³»ç»Ÿ - Fitness Pose Analyzer

åŸºäº TensorFlow.js çš„æ™ºèƒ½å¥èº«å§¿æ€åˆ†æç³»ç»Ÿï¼Œæä¾›å®æ—¶å§¿æ€æ£€æµ‹ã€åŠ¨ä½œè¯†åˆ«ã€é‡å¤æ¬¡æ•°è®¡ç®—å’Œå§¿æ€è´¨é‡è¯„ä¼°åŠŸèƒ½ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ¯ æ™ºèƒ½å§¿æ€åˆ†æ
- **å®æ—¶å§¿æ€ä¼°è®¡**: åŸºäº TensorFlow.js çš„é«˜æ€§èƒ½äººä½“å§¿æ€æ£€æµ‹
- **å¤šæ¨¡å‹æ”¯æŒ**: æ”¯æŒ MoveNetã€PoseNetã€BlazePose ç­‰ä¸»æµæ¨¡å‹
- **åŠ¨ä½œè¯†åˆ«**: è‡ªåŠ¨è¯†åˆ«æ·±è¹²ã€ä¿¯å§æ’‘ã€è·‘æ­¥ç­‰å¥èº«åŠ¨ä½œ
- **é‡å¤æ¬¡æ•°è®¡ç®—**: æ™ºèƒ½ç»Ÿè®¡è¿åŠ¨é‡å¤æ¬¡æ•°
- **å§¿æ€è´¨é‡è¯„ä¼°**: å®æ—¶è¯„ä¼°åŠ¨ä½œæ ‡å‡†åº¦å¹¶æä¾›æ”¹è¿›å»ºè®®

### ğŸ›ï¸ One Euro Filter æ»¤æ³¢ä¼˜åŒ–
- **æŠ–åŠ¨æ¶ˆé™¤**: é›†æˆ One Euro Filter ç®—æ³•ï¼Œæ˜¾è‘—å‡å°‘å§¿æ€æŠ–åŠ¨
- **TypeScript é‡æ„**: å®Œå…¨é‡å†™ä¸º TypeScriptï¼Œæä¾›æ›´å¥½çš„ç±»å‹å®‰å…¨
- **å®æ—¶å‚æ•°è°ƒèŠ‚**: æ”¯æŒé¢‘ç‡ã€æˆªæ­¢é¢‘ç‡ã€Beta ç­‰å‚æ•°çš„å®æ—¶è°ƒæ•´
- **é¢„è®¾é…ç½®**: æä¾›å¤šç§æ»¤æ³¢å™¨é¢„è®¾ï¼ˆå¹³æ»‘ã€å“åº”ã€å¹³è¡¡ç­‰ï¼‰
- **çƒ­æ›´æ–°æ”¯æŒ**: æ”¯æŒé…ç½®çš„å¯¼å…¥å¯¼å‡ºå’Œçƒ­æ›´æ–°

### ğŸ—ï¸ æ¨¡å—åŒ–æ¶æ„
- **æ ¸å¿ƒæ¨¡å—**: EventBus äº‹ä»¶æ€»çº¿ã€StateManager çŠ¶æ€ç®¡ç†
- **ç»„ä»¶ç³»ç»Ÿ**: å¯å¤ç”¨çš„å§¿æ€ä¼°è®¡ã€æ»¤æ³¢å™¨ç®¡ç†ç»„ä»¶
- **æ•°æ®æºæŠ½è±¡**: æ”¯æŒæ‘„åƒå¤´ã€è§†é¢‘æ–‡ä»¶ã€å›¾åƒæ–‡ä»¶ç­‰å¤šç§è¾“å…¥æº
- **æ¸²æŸ“å¼•æ“**: é«˜æ€§èƒ½çš„ Canvas/WebGL æ¸²æŸ“ç³»ç»Ÿ
- **Web Workers**: å¤šçº¿ç¨‹å¤„ç†ï¼Œé¿å… UI é˜»å¡

### ğŸš€ æ€§èƒ½ä¸ä¼˜åŒ–
- **WebGL åŠ é€Ÿ**: åˆ©ç”¨ GPU è¿›è¡Œæ¨¡å‹æ¨ç†åŠ é€Ÿ
- **å†…å­˜ç®¡ç†**: æ™ºèƒ½å†…å­˜æ¸…ç†ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼
- **æ€§èƒ½ç›‘æ§**: å®æ—¶æ˜¾ç¤º FPSã€å†…å­˜ä½¿ç”¨ç­‰æ€§èƒ½æŒ‡æ ‡
- **å¸§ç‡ä¼˜åŒ–**: è‡ªé€‚åº”å¸§ç‡æ§åˆ¶ï¼Œå¹³è¡¡æ€§èƒ½ä¸æµç•…åº¦

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- **Node.js**: >= 18.0.0
- **npm**: >= 8.0.0
- **ç°ä»£æµè§ˆå™¨**: Chrome 90+, Firefox 88+, Safari 14+

### å®‰è£…ä¾èµ–
```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd pose-estimator

# å®‰è£…ä¾èµ–
npm install
```

### å¼€å‘æ¨¡å¼
```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# æˆ–ä½¿ç”¨ HTTPS (æ¨èï¼Œæ”¯æŒæ‘„åƒå¤´è®¿é—®)
npm run dev:https
```

### æ„å»ºéƒ¨ç½²
```bash
# å¼€å‘æ„å»º
npm run build

# ç”Ÿäº§æ„å»º
npm run build:prod

# è¿è¡Œæµ‹è¯•
npm test
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
pose-estimator/
â”œâ”€â”€ src/                     # æºä»£ç  (TypeScript)
â”‚   â”œâ”€â”€ core/               # æ ¸å¿ƒæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ EventBus.ts     # äº‹ä»¶æ€»çº¿
â”‚   â”‚   â”œâ”€â”€ StateManager.ts # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ dataSources/    # æ•°æ®æºæŠ½è±¡
â”‚   â”œâ”€â”€ components/         # ä¸šåŠ¡ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ PoseEstimator.ts        # å§¿æ€ä¼°è®¡å™¨
â”‚   â”‚   â”œâ”€â”€ OneEuroFilterManager.ts # æ»¤æ³¢å™¨ç®¡ç†
â”‚   â”‚   â””â”€â”€ UIManager.ts            # UIç®¡ç†å™¨
â”‚   â”œâ”€â”€ utils/              # å·¥å…·ç±»
â”‚   â”‚   â”œâ”€â”€ OneEuroFilter.ts        # OneEuroFilter (TypeScript)
â”‚   â”‚   â”œâ”€â”€ PerformanceMonitor.ts   # æ€§èƒ½ç›‘æ§
â”‚   â”‚   â””â”€â”€ constants.ts            # é…ç½®å¸¸é‡
â”‚   â”œâ”€â”€ analysis/           # åˆ†æå¼•æ“
â”‚   â”œâ”€â”€ inference/          # æ¨ç†å¼•æ“
â”‚   â”œâ”€â”€ rendering/          # æ¸²æŸ“å¼•æ“
â”‚   â”œâ”€â”€ workers/            # Web Workers
â”‚   â””â”€â”€ types/              # TypeScript ç±»å‹å®šä¹‰
â”œâ”€â”€ tests/                  # æµ‹è¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ core/              # æ ¸å¿ƒæ¨¡å—æµ‹è¯•
â”‚   â”œâ”€â”€ components/        # ç»„ä»¶æµ‹è¯•
â”‚   â””â”€â”€ utils/             # å·¥å…·ç±»æµ‹è¯•
â”œâ”€â”€ docs/                  # æ–‡æ¡£
â”‚   â”œâ”€â”€ Development-Guide.md        # å¼€å‘æŒ‡å—
â”‚   â”œâ”€â”€ API-Documentation.md       # APIæ–‡æ¡£
â”‚   â”œâ”€â”€ Project-Restructure-Report.md # é‡æ„æŠ¥å‘Š
â”‚   â””â”€â”€ OneEuroFilter-Migration-Report.md # è¿ç§»æŠ¥å‘Š
â”œâ”€â”€ dev/                   # å¼€å‘å·¥å…·
â”‚   â”œâ”€â”€ tools/             # å¼€å‘å·¥å…·
â”‚   â””â”€â”€ test-pages/        # æµ‹è¯•é¡µé¢
â”œâ”€â”€ dist/                  # æ„å»ºè¾“å‡º
â”œâ”€â”€ main.html             # ä¸»å…¥å£é¡µé¢
â””â”€â”€ é…ç½®æ–‡ä»¶...
```

## ğŸ® ä½¿ç”¨è¯´æ˜

### åŸºæœ¬æ“ä½œ
1. **å¯åŠ¨åº”ç”¨**: æ‰“å¼€é¡µé¢åè‡ªåŠ¨è¯·æ±‚æ‘„åƒå¤´æƒé™
2. **é€‰æ‹©æ•°æ®æº**: æ”¯æŒæ‘„åƒå¤´ã€è§†é¢‘æ–‡ä»¶ã€å›¾åƒæ–‡ä»¶
3. **æ¨¡å‹é€‰æ‹©**: åœ¨æ§åˆ¶é¢æ¿ä¸­é€‰æ‹©åˆé€‚çš„å§¿æ€æ£€æµ‹æ¨¡å‹
4. **åˆ†æè®¾ç½®**: é…ç½®è¿åŠ¨ç±»å‹å’Œåˆ†æå‚æ•°
5. **å®æ—¶åé¦ˆ**: æŸ¥çœ‹å§¿æ€è´¨é‡è¯„åˆ†å’Œæ”¹è¿›å»ºè®®

### å¥èº«åˆ†æåŠŸèƒ½
- **æ·±è¹²åˆ†æ**: æ£€æµ‹æ·±è¹²åŠ¨ä½œï¼Œè¯„ä¼°è†ç›–è§’åº¦ã€èƒŒéƒ¨å§¿æ€
- **ä¿¯å§æ’‘åˆ†æ**: ç»Ÿè®¡é‡å¤æ¬¡æ•°ï¼Œè¯„ä¼°åŠ¨ä½œæ ‡å‡†åº¦
- **è·‘å§¿åˆ†æ**: åˆ†æè·‘æ­¥å§¿æ€ï¼Œæä¾›æ­¥é¢‘ã€è§¦åœ°æ—¶é—´ç­‰æŒ‡æ ‡
- **é€šç”¨å§¿æ€**: æ”¯æŒè‡ªå®šä¹‰åŠ¨ä½œçš„å§¿æ€åˆ†æ

### é”®ç›˜å¿«æ·é”®
- `Ctrl+H`: åˆ‡æ¢æ§åˆ¶é¢æ¿
- `Ctrl+R`: é‡å¯æ£€æµ‹å™¨
- `Space`: æš‚åœ/ç»§ç»­æ£€æµ‹
- `ESC`: éšè—æ‰€æœ‰é¢æ¿

## ğŸ”§ æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæŠ€æœ¯
- **è¯­è¨€**: TypeScript (ä¸¥æ ¼æ¨¡å¼)
- **AIæ¡†æ¶**: TensorFlow.js 4.15+
- **å§¿æ€æ£€æµ‹**: @tensorflow-models/pose-detection
- **æ»¤æ³¢ç®—æ³•**: One Euro Filter (TypeScript é‡æ„ç‰ˆ)
- **æµ‹è¯•æ¡†æ¶**: Jest + ts-jest

### å¼€å‘å·¥å…·
- **æ„å»º**: TypeScript Compiler
- **ä»£ç è´¨é‡**: ESLint + Prettier
- **ç‰ˆæœ¬æ§åˆ¶**: Git
- **åŒ…ç®¡ç†**: npm

### éƒ¨ç½²å¹³å°
- **é™æ€æ‰˜ç®¡**: Vercel, Netlify, GitHub Pages
- **CDN**: Cloudflare Pages
- **å®¹å™¨**: Docker (å¯é€‰)

## ğŸ“š æ–‡æ¡£

- **[å¼€å‘æŒ‡å—](./docs/Development-Guide.md)** - å®Œæ•´çš„å¼€å‘æµç¨‹å’Œè§„èŒƒ
- **[API æ–‡æ¡£](./docs/API-Documentation.md)** - è¯¦ç»†çš„ API å‚è€ƒ
- **[é‡æ„æŠ¥å‘Š](./docs/Project-Restructure-Report.md)** - é¡¹ç›®é‡æ„è¯¦æƒ…
- **[OneEuroFilter è¿ç§»](./docs/OneEuroFilter-Migration-Report.md)** - TypeScript è¿ç§»æŠ¥å‘Š

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# ç›‘å¬æ¨¡å¼
npm run test:watch

# è¦†ç›–ç‡æŠ¥å‘Š
npm run test:coverage

# ç‰¹å®šæµ‹è¯•
npm test OneEuroFilter.test.ts
```

### æµ‹è¯•è¦†ç›–ç‡
- **è¯­å¥è¦†ç›–ç‡**: > 90%
- **åˆ†æ”¯è¦†ç›–ç‡**: > 85%
- **å‡½æ•°è¦†ç›–ç‡**: > 90%

## ğŸŒ æµè§ˆå™¨å…¼å®¹æ€§

| æµè§ˆå™¨ | ç‰ˆæœ¬è¦æ±‚ | æ”¯æŒçŠ¶æ€ | å¤‡æ³¨ |
|--------|----------|----------|------|
| Chrome | >= 90 | âœ… å®Œå…¨æ”¯æŒ | æ¨èä½¿ç”¨ |
| Firefox | >= 88 | âœ… å®Œå…¨æ”¯æŒ | |
| Safari | >= 14 | âœ… å®Œå…¨æ”¯æŒ | |
| Edge | >= 90 | âœ… å®Œå…¨æ”¯æŒ | |
| Mobile Safari | >= 14 | âœ… å®Œå…¨æ”¯æŒ | |
| Chrome Mobile | >= 90 | âœ… å®Œå…¨æ”¯æŒ | |

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ‘„åƒå¤´æ— æ³•è®¿é—®**
   ```bash
   # å¯ç”¨ HTTPS æœåŠ¡å™¨
   npm run dev:https
   
   # æˆ–å¯ç”¨ HTTP è°ƒè¯•æ¨¡å¼
   node dev/tools/enable-http-debug.js
   ```

2. **æ¨¡å‹åŠ è½½å¤±è´¥**
   - æ£€æŸ¥ç½‘ç»œè¿æ¥
   - æ¸…ç©ºæµè§ˆå™¨ç¼“å­˜
   - å°è¯•åˆ‡æ¢åˆ°å…¶ä»–æ¨¡å‹

3. **æ€§èƒ½é—®é¢˜**
   - é™ä½è¾“å…¥åˆ†è¾¨ç‡
   - ä½¿ç”¨ Web Workers
   - å¯ç”¨ WebGL åç«¯

### è°ƒè¯•å·¥å…·
```bash
# å¯ç”¨è°ƒè¯•æ¨¡å¼
npm run dev:debug

# æ€§èƒ½åˆ†æ
npm run profile

# å†…å­˜åˆ†æ
npm run memory-check
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'feat: Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

### ä»£ç è§„èŒƒ
- ä½¿ç”¨ TypeScript ä¸¥æ ¼æ¨¡å¼
- éµå¾ª ESLint å’Œ Prettier é…ç½®
- ç¼–å†™å•å…ƒæµ‹è¯•
- æ›´æ–°ç›¸å…³æ–‡æ¡£

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

- [TensorFlow.js](https://www.tensorflow.org/js) - æœºå™¨å­¦ä¹ æ¡†æ¶
- [One Euro Filter](http://cristal.univ-lille.fr/~casiez/1euro/) - æ»¤æ³¢ç®—æ³•
- [Pose Detection Models](https://github.com/tensorflow/tfjs-models/tree/master/pose-detection) - å§¿æ€æ£€æµ‹æ¨¡å‹

---

**æœ€åæ›´æ–°**: 2024å¹´12æœˆ  
**ç‰ˆæœ¬**: 2.0.0 (TypeScript é‡æ„ç‰ˆ)